---
title: "Dashboard"
format:
  dashboard: 
    orientation: columns
---


## Column {width="20%"}

### Row {height="50%"}

```{r, install_packages}
#| echo: false
#| include: false
library(tidyverse)
```

```{r, starwars}
x <- starwars
```

```{r, sendtoojs}
#| echo: false
#| include: false
ojs_define(service_name = x)
```

```{ojs}
//| expandable: false

// Transpose data to make it useable in ojs
service = transpose(service_name)

viewof search = Inputs.search(service, {placeholder: "Type to find a service",
width: 150,
height: 10})

viewof items = Inputs.table(search, {
columns: ["name"],
header: {name: "Care Service"},
width: 300,
height: 250,
required: false,
value: search, 
multiple: false})
```


```{ojs}
//| echo: false
//| output: false
function return_name() {
  var name = "Select a service"
  if(items === null) {
    return name
  } else {
    return items.name
  }
}

function filtered_df() {
  var name = "Select a service"
  if(items === null) {
    return name
  } else {
    return items
  }
}
```

### Row {height="50%"}

```{r, printstarwars}
head(x)
```

## Column {width="80%"}

### Row {height="20%"}
::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} return_name()`

subtitle
:::

::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df().height`

subtitle
:::

::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df().mass`

subtitle
:::

::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df().hair_color`

subtitle
:::

### Row {height="20%"}

::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df().birth_year`

subtitle
:::

::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df().sex`

subtitle
:::


::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df()`

subtitle
:::


::: {.valuebox icon="pencil" color="blue"}
Service name

`{ojs} filtered_df()`

subtitle
:::


### Row {height="60%"}

`{ojs} filtered_df().name`

`{ojs} return_name()`



